<!DOCTYPE html>
<html>
<head>
    <title>NCT127STRM | 칠푸딩 인증샷</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <style>
        @font-face {
            font-family: 'NeoDunggeunmoPro-Regular';
            src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2302@1.0/NeoDunggeunmoPro-Regular.woff2') format('woff2');
            font-weight: normal;
            font-style: normal;
        }
        body {
            background: url("image_1.jpg") no-repeat center;
            height: 100vh;
            width: 100vw;
            background-size: cover;
            overflow-y: hidden;
            font-family: 'NeoDunggeunmoPro-Regular', 'Roboto';
            display: flex;
            justify-content: center;
            flex-direction: column;
            text-align: center;
        }
        .text {
            text-align: center;
            padding-bottom: 5rem;
            font-size: 2.5vh;
        }
        .pudding-button {
            display: inline-block;
            padding: 10px 25px;
            border-radius: 50px;
            background-color: #FAC9B8;
            color: #FFFFFF;
            font-weight: bold;
            text-align: center;
            text-decoration: none;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }
        .pudding-button:hover {
            transform: scale(1.1);
            background-color: #E0603A;
        }
        .savebutton {
            padding-bottom: 2rem;
        }
        footer {
            padding-top: 1rem;
        }
        @media (max-width: 600px) {
            .text {
                font-size: 2.5vh;
                display: flex;
                flex-direction: column;
                justify-content: center;
                padding-bottom: 3rem;
            }
        }
    </style>
    <link rel="stylesheet" type="text/css" href="../css/normalize.css">
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
</head>
<body>
    <div class="text">
        <p>💚<span id="word"></span>💚님은<br>NCT127의 무궁한 발전을 위해<br>명예의 칠푸딩에 가입하였으므로<br>이 인증서를 수여합니다.</p>
        <p>NCT 127 STRM</p> 
        <div><span id="current-date"></span></div>
    </div>
    <div class="savebutton">
        <a href="#" class="pudding-button" onclick="saveAsImage()">저장</a>
    </div>
    <script>
        // Get the current date
        const currentDate = new Date();

        // Get the day, month, and year
        const day = currentDate.getDate();
        const month = currentDate.getMonth() + 1; // Months are zero-based
        const year = currentDate.getFullYear();

        // Format the date as "DD/MM/YYYY"
        const formattedDate = `${day}/${month}/${year}`;

        // Update the content of the span element with the current date
        document.getElementById('current-date').textContent = formattedDate;

        // Retrieve the query parameter from the URL
        const urlParams = new URLSearchParams(window.location.search);
        const submittedWord = urlParams.get('word');

        // Display the submitted word on the page
        document.getElementById('word').innerText = submittedWord;

        // Function to save the page as a PNG image
        function saveAsImage() {
            // Capture the contents of the page using html2canvas
            html2canvas(document.body).then(function(canvas) {
                // Create a data URL from the canvas
                const dataUrl = canvas.toDataURL('image/png');

                // Create a temporary link element
                const link = document.createElement('a');
                link.href = dataUrl;
                link.download = 'page.png';

                // Programmatically click the link to trigger the download
                link.click();
            });
        }
    </script>
</body>
</html>